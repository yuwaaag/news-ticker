<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <style>
        body { margin: 0; padding: 0; overflow: hidden; background: transparent; font-family: 'Arial', sans-serif; }
        #main-container { width: 1920px; height: 80px; display: flex; align-items: center; background: rgba(0, 0, 0, 0.95); border-top: 4px solid #ffcc00; }
        #location-box { background: #ffcc00; color: #000; padding: 0 20px; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; font-weight: bold; min-width: 220px; z-index: 10; }
        #city-name { font-size: 24px; }
        #weather-info { font-size: 18px; color: #cc0000; }
        #ticker-window { flex-grow: 1; overflow: hidden; white-space: nowrap; background: linear-gradient(90deg, #b30000 0%, #ff0000 100%); height: 100%; display: flex; align-items: center; }
        .ticker-text { display: inline-block; padding-left: 100%; animation: scroll 60s linear infinite; font-size: 30px; color: white; font-weight: bold; }
        #time-box { background: #ffffff; color: #000; padding: 0 25px; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; min-width: 180px; border-left: 4px solid #ffcc00; }
        #digital-clock { font-size: 28px; font-weight: bold; }
        @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }
        .news-item { display: inline-block; padding-right: 100px; }
    </style>
</head>
<body onclick="startHindiVoice()">

    <div id="main-container">
        <div id="location-box">
            <div id="city-name">LUCKNOW</div>
            <div id="weather-info">--¬∞C</div>
        </div>
        <div id="ticker-window">
            <div class="ticker-text" id="news-content">‡§Ü‡§µ‡§æ‡§ú‡§º ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è 'Interact' ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç...</div>
        </div>
        <div id="time-box"><div id="digital-clock">00:00:00</div></div>
    </div>

    <script>
        let synth = window.speechSynthesis;
        let newsList = [];

        async function fetchNews() {
            try {
                // Global News Feed
                const res = await fetch(`https://api.rss2json.com/v1/api.json?rss_url=https://rss.nytimes.com/services/xml/rss/nyt/World.xml`);
                const data = await res.json();
                if (data.status === 'ok') {
                    newsList = data.items.map(item => item.title);
                    document.getElementById('news-content').innerHTML = newsList.map(t => `<span class="news-item">${t}</span>`).join("");
                }
            } catch (e) { console.log("News Error"); }
        }

        async function startHindiVoice() {
            if (synth.speaking) return;
            let index = 0;

            async function speakNext() {
                if (index >= newsList.length) index = 0;
                
                // English ‡§∏‡•á Hindi ‡§Ö‡§®‡•Å‡§µ‡§æ‡§¶ ‡§ï‡§æ ‡§ú‡•Å‡§ó‡§æ‡§°‡§º (Free API)
                const text = newsList[index];
                const translateUrl = `https://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=hi&dt=t&q=${encodeURI(text)}`;
                
                try {
                    const res = await fetch(translateUrl);
                    const data = await res.json();
                    const hindiText = data[0][0][0];

                    let utter = new SpeechSynthesisUtterance(hindiText);
                    utter.lang = 'hi-IN'; // ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Ü‡§µ‡§æ‡§ú‡§º ‡§∏‡•á‡§ü ‡§ï‡•Ä
                    utter.rate = 0.9; 
                    utter.onend = () => { index++; speakNext(); };
                    synth.speak(utter);
                } catch (e) {
                    index++; speakNext();
                }
            }
            if (newsList.length > 0) speakNext();
        }

        async function updateWeather() {
            try {
                const res = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=26.84&longitude=80.94&current_weather=true`);
                const data = await res.json();
                document.getElementById('weather-info').innerText = `üå°Ô∏è ${Math.round(data.current_weather.temperature)}¬∞C`;
            } catch(e) {}
        }

        function updateClock() {
            document.getElementById('digital-clock').innerText = new Date().toLocaleTimeString();
        }

        setInterval(updateClock, 1000);
        updateWeather();
        fetchNews();
    </script>
</body>
</html>
